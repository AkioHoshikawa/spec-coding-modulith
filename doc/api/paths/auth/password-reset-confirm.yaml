post:
  tags:
    - Authentication
  summary: パスワードリセット確定
  description: |
    リセットトークンを使用して新しいパスワードを設定します。
  operationId: confirmPasswordReset
  security: []
  requestBody:
    required: true
    content:
      application/json:
        schema:
          type: object
          required:
            - token
            - newPassword
          properties:
            token:
              type: string
              description: メールで受け取ったリセットトークン
              example: "reset-token-123abc..."
            newPassword:
              type: string
              format: password
              minLength: 8
              description: 新しいパスワード（8文字以上）
              example: "NewSecurePass456!"
  responses:
    '200':
      description: パスワードリセット成功
      content:
        application/json:
          schema:
            $ref: '../../components/schemas/common/error-response.yaml#/SuccessResponse'
          example:
            success: true
            message: "パスワードをリセットしました"
    '400':
      $ref: '../../components/responses/common.yaml#/BadRequest'
    '401':
      description: 無効なトークンまたは有効期限切れ
      content:
        application/json:
          schema:
            $ref: '../../components/schemas/common/error-response.yaml#/ErrorResponse'
          example:
            code: "INVALID_RESET_TOKEN"
            message: "リセットトークンが無効または期限切れです"
            timestamp: "2025-11-12T10:30:00Z"
            path: "/v1/auth/password-reset/confirm"
    '500':
      $ref: '../../components/responses/common.yaml#/InternalServerError'
