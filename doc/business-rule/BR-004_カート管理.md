# BR-004 カート管理 (Cart Management)

## 1. 概要
ユーザーのショッピングカートを管理し、簡易的な有効期限戦略を適用する。

## 2. ビジネスルール

### 2.1 カート操作 (Cart Operations)
- **アイテム追加**: SKUと数量を追加する。SKUが既に存在する場合は数量を更新する。
- **アイテム削除**: SKUを削除する。
- **カート表示**: 現在の価格でアイテムをリスト表示する。

### 2.2 遅延有効期限 (Lazy Expiration)
- **ルール**: カートは最終更新から一定期間（例：7日間）有効である。
- **実装**:
  - クリーンアップのためにバックグラウンドのバッチジョブを使用しない。
  - **遅延チェック (Lazy Check)**: ユーザーがカートにアクセスしようとした時（`GET /cart`）、`lastUpdatedAt` タイムスタンプを確認する。
  - `現在時刻 > lastUpdatedAt + 7日` の場合、カートをクリアして空のリストを返す。
