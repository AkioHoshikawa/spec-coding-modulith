---
id: calculate-discount
title: "割引計算"
description: "カート内の商品に対して適用可能なプロモーションを計算します。"
sidebar_label: "割引計算"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/openapi/fashion-ec-order-to-shipment-platform-api
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"割引計算"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/promotions/calculate-discount"}
  context={"endpoint"}
>
  
</MethodEndpoint>



カート内の商品に対して適用可能なプロモーションを計算します。


<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={undefined}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["items"],"properties":{"items":{"type":"array","description":"カート内商品","items":{"type":"object","required":["skuId","quantity","unitPrice"],"properties":{"skuId":{"type":"string","example":"SKU-JACKET-M-BLACK"},"quantity":{"type":"integer","example":2},"unitPrice":{"type":"number","format":"decimal","example":5000}}}},"couponCode":{"type":"string","description":"クーポンコード（オプション）","example":"WELCOME10"}}}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"計算成功","content":{"application/json":{"schema":{"type":"object","properties":{"subtotal":{"type":"number","format":"decimal","description":"小計","example":10000},"appliedPromotions":{"type":"array","description":"適用されたプロモーション","items":{"type":"object","properties":{"promotionId":{"type":"string","format":"uuid","example":"aa0e8400-e29b-41d4-a716-446655440000"},"name":{"type":"string","example":"ウィンターセール"},"discountAmount":{"type":"number","format":"decimal","example":2000}}}},"totalDiscount":{"type":"number","format":"decimal","description":"合計割引額","example":2000},"totalAmount":{"type":"number","format":"decimal","description":"割引後合計","example":8000}}}}}},"400":{"description":"リクエストが不正です","content":{"application/json":{"schema":{"type":"object","required":["code","message","timestamp","path"],"properties":{"code":{"type":"string","description":"エラーコード","example":"ORDER_001"},"message":{"type":"string","description":"エラーメッセージ","example":"注文が見つかりません"},"timestamp":{"type":"string","format":"date-time","description":"エラー発生時刻","example":"2025-11-12T10:30:00Z"},"path":{"type":"string","description":"リクエストパス","example":"/v1/orders/123"},"details":{"type":"array","description":"エラー詳細情報（バリデーションエラーなど）","items":{"type":"object","properties":{"field":{"type":"string","description":"エラーが発生したフィールド","example":"email"},"message":{"type":"string","description":"フィールド固有のエラーメッセージ","example":"有効なメールアドレスを入力してください"},"code":{"type":"string","description":"フィールド固有のエラーコード","example":"INVALID_EMAIL_FORMAT"}}}},"traceId":{"type":"string","description":"トレースID（デバッグ用）","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"}},"title":"ErrorResponse"},"example":{"code":"BAD_REQUEST","message":"リクエストパラメータが不正です","timestamp":"2025-11-12T10:30:00Z","path":"/v1/orders","details":[{"field":"quantity","message":"数量は1以上である必要があります","code":"INVALID_QUANTITY"}],"traceId":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"}}}},"401":{"description":"認証が必要です","content":{"application/json":{"schema":{"type":"object","required":["code","message","timestamp","path"],"properties":{"code":{"type":"string","description":"エラーコード","example":"ORDER_001"},"message":{"type":"string","description":"エラーメッセージ","example":"注文が見つかりません"},"timestamp":{"type":"string","format":"date-time","description":"エラー発生時刻","example":"2025-11-12T10:30:00Z"},"path":{"type":"string","description":"リクエストパス","example":"/v1/orders/123"},"details":{"type":"array","description":"エラー詳細情報（バリデーションエラーなど）","items":{"type":"object","properties":{"field":{"type":"string","description":"エラーが発生したフィールド","example":"email"},"message":{"type":"string","description":"フィールド固有のエラーメッセージ","example":"有効なメールアドレスを入力してください"},"code":{"type":"string","description":"フィールド固有のエラーコード","example":"INVALID_EMAIL_FORMAT"}}}},"traceId":{"type":"string","description":"トレースID（デバッグ用）","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"}},"title":"ErrorResponse"},"example":{"code":"UNAUTHORIZED","message":"認証が必要です。ログインしてください","timestamp":"2025-11-12T10:30:00Z","path":"/v1/orders","traceId":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"}}}},"500":{"description":"サーバー内部エラー","content":{"application/json":{"schema":{"type":"object","required":["code","message","timestamp","path"],"properties":{"code":{"type":"string","description":"エラーコード","example":"ORDER_001"},"message":{"type":"string","description":"エラーメッセージ","example":"注文が見つかりません"},"timestamp":{"type":"string","format":"date-time","description":"エラー発生時刻","example":"2025-11-12T10:30:00Z"},"path":{"type":"string","description":"リクエストパス","example":"/v1/orders/123"},"details":{"type":"array","description":"エラー詳細情報（バリデーションエラーなど）","items":{"type":"object","properties":{"field":{"type":"string","description":"エラーが発生したフィールド","example":"email"},"message":{"type":"string","description":"フィールド固有のエラーメッセージ","example":"有効なメールアドレスを入力してください"},"code":{"type":"string","description":"フィールド固有のエラーコード","example":"INVALID_EMAIL_FORMAT"}}}},"traceId":{"type":"string","description":"トレースID（デバッグ用）","example":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"}},"title":"ErrorResponse"},"example":{"code":"INTERNAL_SERVER_ERROR","message":"サーバーエラーが発生しました","timestamp":"2025-11-12T10:30:00Z","path":"/v1/orders","traceId":"a1b2c3d4-e5f6-7890-abcd-ef1234567890"}}}}}}
>
  
</StatusCodes>


      